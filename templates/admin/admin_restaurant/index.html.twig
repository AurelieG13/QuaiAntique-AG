{% extends 'base.html.twig' %}

{% block title %}Administration - Restaurant{% endblock %}

{% block body %}
  <div class="mb-4">
      <a type="button" class="btn btn-custom" href="{{ path('admin_home') }}"><img src="{{ asset('assets/images/arrow-left-circle.svg') }}" alt=""> panel d'administration</a>
  </div>

<h1>Liste des restaurants</h1>
  <div class="mb-4 mt-4">
    <a href="{{ path('admin_restaurant_add') }}" type="button" class="btn btn-custom">
        Ajouter un restaurant
    </a>
  </div>

  <table class="table table-bordered">
      <thead>
          <tr class="text-center">
              <td>Nom</td>
              <td>Nombre de convives</td>
              <td>Adresse</td>
              <td>Numéro de téléphone</td>
              <td colspan="2">Actions</td>
              
          </tr>
      </thead>
      <tbody>
      {% for restaurant in restaurants %}
          <tr class="text-center">
              <td>{{ restaurant.name }}</td>
              <td>{{ restaurant.guestMax }}</td>
              <td>{{ restaurant.address }}</td>
              <td>{{ restaurant.phoneNumber }}</td>
              <td>
              <a href="{{ path('admin_restaurant_edit', {id: restaurant.id}) }}" type="button" class="btn btn-success">
                  Modifier
              </a>
              </td>
              <td>
              <a href="#" type="button" class="btn btn-danger modal-trigger-restaurant" data-bs-toggle="modal" data-bs-target="#modal-delete-restaurant" data-id="{{ restaurant.id }}" data-titre = "{{ restaurant.id }}">
                  Supprimer
              </a>
              </td>            
          </tr>
      {% endfor %}
          
      </tbody>
  </table>


  <!-- Modal -->
  <div class="modal fade" id="modal-delete-restaurant" tabindex="-1" aria-labelledby="modal-delete-restaurantLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modal-delete-restaurantLabel">Supprimer une catégorie</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body modal-body-restaurant">
          
        </div>
        <div class="modal-footer modal-footer-restaurant">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-target="modal-delete-restaurant">Fermer</button>
          <a href="#" type="button" class="btn btn-custom">Valider</a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
